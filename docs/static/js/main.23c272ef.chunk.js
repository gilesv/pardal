(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(t,e,a){},105:function(t,e,a){"use strict";a.r(e);var n,r=a(0),i=a.n(r),o=a(15),s=a.n(o),c=a(7),l=a(14),u=a(18),d=a(22),p=a(21),m=a(16),h=a(23),f=function(t){function e(t){return Object(l.a)(this,e),Object(d.a)(this,Object(p.a)(e).call(this,t))}return Object(h.a)(e,t),Object(u.a)(e,[{key:"handleClick",value:function(t){this.props.selectStory(t)}},{key:"render",value:function(){var t=this,e=this.props,a=e.story,n=e.removeStory,r=e.isSelected;return i.a.createElement("div",{className:"story-list-item ".concat(r?"selected":""),onClick:function(e){return t.handleClick(a.id)}},i.a.createElement("div",{className:"story-item__name"},a.name),i.a.createElement("div",{className:"story-list-item__delete",onClick:function(t){return n(a.id)}}),i.a.createElement("div",{className:"story-list-item__items-count"},"".concat(a.tasks?a.tasks.length:"No"," items")))}}]),e}(i.a.Component);function y(t){return{type:n.ADD_USER_STORY,payload:{story:t}}}function E(t){return{type:n.UPDATE_USER_STORY,payload:{story:t}}}function v(t,e){return{type:n.ADD_TASK,payload:{task:t,storyId:e}}}!function(t){t[t.SELECT_STORY=0]="SELECT_STORY",t[t.SET_STATE_CLEAN=1]="SET_STATE_CLEAN",t[t.ADD_TEAM=2]="ADD_TEAM",t[t.UPDATE_TEAM=3]="UPDATE_TEAM",t[t.REMOVE_TEAM=4]="REMOVE_TEAM",t[t.ADD_TEAM_MEMBER=5]="ADD_TEAM_MEMBER",t[t.UPDATE_TEAM_MEMBER=6]="UPDATE_TEAM_MEMBER",t[t.REMOVE_TEAM_MEMBER=7]="REMOVE_TEAM_MEMBER",t[t.ADD_SPRINT=8]="ADD_SPRINT",t[t.UPDATE_SPRINT=9]="UPDATE_SPRINT",t[t.REMOVE_SPRINT=10]="REMOVE_SPRINT",t[t.ADD_USER_STORY=11]="ADD_USER_STORY",t[t.UPDATE_USER_STORY=12]="UPDATE_USER_STORY",t[t.REMOVE_USER_STORY=13]="REMOVE_USER_STORY",t[t.ADD_TASK=14]="ADD_TASK",t[t.UPDATE_TASK=15]="UPDATE_TASK",t[t.REMOVE_TASK=16]="REMOVE_TASK"}(n||(n={}));var T,O,S=a(114),b=a(43),k=a(34),D=a(51),_=a(10),j=a(107),g=a(24),A=function t(e,a){Object(l.a)(this,t),this.id=void 0,this.name=void 0,this.title=void 0,this.article=void 0,this.actor=void 0,this.verb=void 0,this.action=void 0,this.predicate=void 0,this.motivation=void 0,this.priority=void 0,this.effort=void 0,this.startDate=void 0,this.handOffDate=void 0,this.description=void 0,this.tasks=void 0,this.id=e,this.name=a||"New Story",this.title="",this.article="As a",this.actor="User",this.verb="I want to",this.action="do something",this.predicate="so I can",this.motivation="accomplish something else",this.priority=1,this.effort=1,this.startDate=new Date,this.handOffDate=new Date,this.description="",this.tasks=[]},N=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(p.a)(e).call(this,t))).fileSelector=void 0,a.fileSelector=i.a.createRef(),a.addStory=a.addStory.bind(Object(m.a)(a)),a.clickFileSelector=a.clickFileSelector.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"addStory",value:function(){var t=this.props.storiesIds.length,e=new A(t,this.generateNewName());this.props.dispatch(y(e))}},{key:"generateNewName",value:function(){for(var t="".concat("New Story"," 1"),e=1;this.storyExists(t);)t="".concat("New Story"," ").concat(e++);return t}},{key:"storyExists",value:function(t){var e=!0,a=!1,n=void 0;try{for(var r,i=this.props.storiesIds[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(this.props.stories[o].name===t)return!0}}catch(s){a=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(a)throw n}}return!1}},{key:"removeStory",value:function(t){this.props.dispatch(function(t){return{type:n.REMOVE_USER_STORY,payload:{storyId:t}}}(t))}},{key:"selectStory",value:function(t){var e,a=this.props.storiesIds.indexOf(t||0);this.props.dispatch((e=a,{type:n.SELECT_STORY,payload:{storyIndex:e}}))}},{key:"clickFileSelector",value:function(){var t=this.fileSelector.current;t&&(t.value="",t.click())}},{key:"render",value:function(){var t=this,e=this.props,a=e.storiesIds,n=e.selectedStory,r=e.importStory,o=i.a.createElement(S.a,null,i.a.createElement(S.a.Item,{text:"New",icon:"plus",onClick:this.addStory}),i.a.createElement(S.a.Item,{text:"Import from JSON...",icon:"import",onClick:this.clickFileSelector}));return i.a.createElement("div",{className:"story-list"},i.a.createElement("input",{className:"story-list__file-selector",type:"file",ref:this.fileSelector,onChange:function(t){return r(t)},accept:".json, application/json"}),i.a.createElement("div",{className:"story-list__header"},i.a.createElement("h1",null,"Stories"),i.a.createElement(b.a,null,i.a.createElement(k.b,{text:"Add Story",icon:"cube-add",intent:"success",onClick:this.addStory}),i.a.createElement(D.a,{content:o,position:_.a.BOTTOM_RIGHT,minimal:!0},i.a.createElement(k.b,{intent:"success",rightIcon:"caret-down"})))),i.a.createElement("div",{className:"story-list__body"},a&&a.length>0?a.map(function(e,a){var r=t.props.stories[e];return i.a.createElement(f,{story:r,key:"story#".concat(e),isSelected:n===a,selectStory:function(e){return t.selectStory(e)},removeStory:function(e){return t.removeStory(e)}})}):i.a.createElement(j.a,{className:"story-list__no-items",title:"Nothing here \ud83d\ude34",description:"Add stories to start!",icon:"add-to-artifact"})))}}]),e}(i.a.Component),w=Object(g.b)(function(t,e){return Object(c.a)({stories:t.stories.entities,storiesIds:t.stories.ids,selectedStory:t.ui.selectedStory},e)})(N),R=a(17);!function(t){t.TASK="TASK",t.ENH="ENH",t.BUG="BUG",t.TEST="TEST"}(T||(T={})),function(t){t.BE="BE",t.FE="FE",t.BOTH="BE & FE"}(O||(O={}));var I={A1:"A1",A2:"A2",A3:"A3",A4:"A4",A5:"A5"},C=function t(e,a){Object(l.a)(this,t),this.id=void 0,this.title=void 0,this.type=void 0,this.priority=void 0,this.effort=void 0,this.startDate=void 0,this.handOffDate=void 0,this.description=void 0,this.area=void 0,this.assignee=void 0,this.id=e,this.type=a||T.TASK,this.title="New item",this.priority=1,this.effort="1.0",this.startDate=new Date,this.handOffDate=new Date,this.area=O.BOTH,this.description="",this.assignee=I.A1},M=a(108),x=a(66),Y=a(109),U=a(115),P=a(110),B=a(113),V=function(t){var e=t.task,a=t.update,n=t.updateEffort;return i.a.createElement("div",{className:"task-form"},i.a.createElement(M.a,{label:"Title",inline:!0,className:"title"},i.a.createElement(x.a,{onChange:function(t){return a("title",t.target.value)},value:e.title,placeholder:"Insert a title...",fill:!0})),i.a.createElement("div",{className:"task-form__row"},i.a.createElement(M.a,{label:"Assignee"},i.a.createElement(Y.a,{options:Object.values(I),onChange:function(t){return a("assignee",t.currentTarget.value)},value:e.assignee})),i.a.createElement(M.a,{label:"Effort"},i.a.createElement(U.a,{allowNumericCharactersOnly:!1,min:.1,value:e.effort,buttonPosition:"none",onValueChange:function(t,e){return n(t,e)}})),i.a.createElement(M.a,{label:"Priority"},i.a.createElement(U.a,{value:e.priority,max:5,min:1,onValueChange:function(t){return a("priority",t)}})),i.a.createElement(M.a,{label:"Kick-start date"},i.a.createElement(B.a,{onChange:function(t){return a("startDate",t)},value:e.startDate,formatDate:function(t){return t.toLocaleDateString()},parseDate:function(t){return new Date(t)},placeholder:"M/D/YYYY",inputProps:{leftIcon:"calendar"}})),i.a.createElement(M.a,{label:"Hand-off date"},i.a.createElement(B.a,{onChange:function(t){return a("handOffDate",t)},value:e.handOffDate,formatDate:function(t){return t.toLocaleDateString()},parseDate:function(t){return new Date(t)},placeholder:"M/D/YYYY",inputProps:{leftIcon:"calendar"}})),i.a.createElement(M.a,{label:"Type"},i.a.createElement(Y.a,{options:[{label:"Task",value:T.TASK},{label:"Enhancement",value:T.ENH},{label:"Test",value:T.TEST}],onChange:function(t){return a("type",t.currentTarget.value)},value:e.type})),e.type!==T.TEST?i.a.createElement(M.a,{label:"Area"},i.a.createElement(Y.a,{options:[{label:"Frontend",value:O.FE},{label:"Backend",value:O.BE},{label:"FE & BE",value:O.BOTH}],onChange:function(t){return a("area",t.currentTarget.value)},value:e.area})):null),i.a.createElement(M.a,{label:"Description"},i.a.createElement(P.a,{growVertically:!1,fill:!0,onChange:function(t){return a("description",t.target.value)},value:e.description,placeholder:"Describe this item..."})))},K=a(111),F=a(112),H=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(p.a)(e).call(this,t))).state={isBodyVisible:!0},a.update=a.update.bind(Object(m.a)(a)),a.updateEffort=a.updateEffort.bind(Object(m.a)(a)),a.handleHeaderClick=a.handleHeaderClick.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"handleHeaderClick",value:function(){this.setState(Object(c.a)({},this.state,{isBodyVisible:!this.state.isBodyVisible}))}},{key:"update",value:function(t,e){var a=Object(c.a)({},this.props.task,Object(R.a)({},t,e));this.props.updateTask(a)}},{key:"updateEffort",value:function(t,e){var a=String(Number(e.replace(".",""))/10);1===a.length&&(a+=".0"),Number(a)<10&&this.update("effort",a)}},{key:"render",value:function(){var t=this.props.task;return i.a.createElement("div",{className:"task-item"},i.a.createElement("div",{className:"task-item__header",onClick:this.handleHeaderClick},i.a.createElement("div",{className:"task-item__tags"},i.a.createElement(K.a,{intent:"primary",minimal:!0},t.type),i.a.createElement(K.a,{intent:"primary",minimal:!0},t.area),i.a.createElement(K.a,{intent:"primary",minimal:!0},t.assignee)),i.a.createElement("div",{className:"task-item__title"},t.title)),i.a.createElement(F.a,{isOpen:this.state.isBodyVisible},i.a.createElement("div",{className:"task-item__body"},i.a.createElement(V,{task:t,update:this.update,updateEffort:this.updateEffort}))))}}]),e}(i.a.Component),J=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(p.a)(e).call(this,t))).addTask=a.addTask.bind(Object(m.a)(a)),a.updateTask=a.updateTask.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"addTask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.TASK,e=this.props.tasksIds.length,a=new C(e,t);this.props.dispatch(v(a,this.props.story.id))}},{key:"updateTask",value:function(t){this.props.dispatch(function(t){return{type:n.UPDATE_TASK,payload:{task:t}}}(t))}},{key:"render",value:function(){var t=this,e=this.props.story,a=i.a.createElement(S.a,null,i.a.createElement(S.a.Item,{text:"Task",onClick:function(){return t.addTask()}}),i.a.createElement(S.a.Item,{text:"Enhancement",onClick:function(){return t.addTask(T.ENH)}}),i.a.createElement(S.a.Item,{text:"Test",onClick:function(){return t.addTask(T.TEST)}}));return i.a.createElement("div",{className:"task-list"},i.a.createElement("div",{className:"task-list__header"},e&&e.tasks.length>0?i.a.createElement(b.a,null,i.a.createElement(k.b,{intent:"success",text:"Add item",icon:"add-to-artifact",onClick:function(){return t.addTask()}}),i.a.createElement(D.a,{content:a,position:_.a.BOTTOM_RIGHT,minimal:!0},i.a.createElement(k.b,{intent:"success",rightIcon:"caret-down"}))):null),e&&e.tasks&&e.tasks.length>0?e.tasks.map(function(e){var a=t.props.tasks[e];return i.a.createElement(H,{key:"task#".concat(e),task:a,updateTask:t.updateTask})}):i.a.createElement(j.a,{className:"story-details__nothing",title:"No tasks here \ud83d\ude34 (yet)",icon:"add",action:i.a.createElement(k.b,{intent:"success",text:"Add a task",icon:"add-to-artifact",onClick:function(){return t.addTask()}})}))}}]),e}(i.a.Component),L=Object(g.b)(function(t,e){return Object(c.a)({tasks:t.tasks.entities,tasksIds:t.tasks.ids},e)})(J),G=a(68),W=a.n(G),X=function(t){var e=t.story,a=t.update;return i.a.createElement("div",{className:"story-form"},i.a.createElement(M.a,{label:"Title"},i.a.createElement(x.a,{onChange:function(t){return a("title",t.target.value)},value:e.title,placeholder:"Insert a title...",fill:!0})),i.a.createElement("div",{className:"story-form__row"},i.a.createElement(M.a,{label:"Priority"},i.a.createElement(U.a,{id:"priority",value:e.priority,max:5,min:1,onValueChange:function(t){return a("priority",t)}})),i.a.createElement(M.a,{label:"Effort"},i.a.createElement(U.a,{id:"effort",value:e.effort,max:100,min:1,onValueChange:function(t){return a("effort",t)}})),i.a.createElement(M.a,{label:"Kick-start date"},i.a.createElement(B.a,{onChange:function(t){return a("startDate",t)},value:e.startDate,formatDate:function(t){return t.toLocaleDateString()},parseDate:function(t){return new Date(t)},placeholder:"M/D/YYYY",inputProps:{leftIcon:"calendar"}})),i.a.createElement(M.a,{label:"Hand-off date"},i.a.createElement(B.a,{onChange:function(t){return a("handOffDate",t)},value:e.handOffDate,formatDate:function(t){return t.toLocaleDateString()},parseDate:function(t){return new Date(t)},placeholder:"M/D/YYYY",inputProps:{leftIcon:"calendar"}}))),i.a.createElement(M.a,{label:"Description"},i.a.createElement(P.a,{growVertically:!1,fill:!0,onChange:function(t){return a("description",t.target.value)},value:e.description,placeholder:"Describe this item..."})))},$=a(31);var q=function(t,e){var a=e.storyIndex;return Object(c.a)({},t,{selectedStory:a})},z=function(t){return t.isDirty?t:Object(c.a)({},t,{isDirty:!0})},Q=function(t){return t.isDirty?Object(c.a)({},t,{isDirty:!1}):t},Z=a(33),tt=function(t,e){var a=Object(c.a)({},t);return delete a[e],a},et=function(t,e){var a=Object(Z.a)(t);return a.splice(a.indexOf(e),1),a};var at=function(t,e){var a=e.story;return Object(c.a)({},t,{entities:Object(c.a)({},t.entities,Object(R.a)({},a.id,a)),ids:[].concat(Object(Z.a)(t.ids),[a.id])})},nt=function(t,e){var a=e.story;return Object(c.a)({},t,{entities:Object(c.a)({},t.entities,Object(R.a)({},a.id,a))})},rt=function(t,e){var a=e.storyId;return Object(c.a)({},t,{entities:tt(t.entities,a),ids:et(t.ids,a)})},it=function(t,e){var a=e.task,n=e.storyId,r=t.entities[n];return r.tasks=r.tasks.concat(a.id),Object(c.a)({},t,{entities:Object(c.a)({},t.entities,Object(R.a)({},n,r))})};var ot,st=function(t,e){var a=e.task;return Object(c.a)({},t,{entities:Object(c.a)({},t.entities,Object(R.a)({},a.id,a)),ids:[].concat(Object(Z.a)(t.ids),[a.id])})},ct=function(t,e){var a=e.task;return Object(c.a)({},t,{entities:Object(c.a)({},t.entities,Object(R.a)({},a.id,a))})},lt=function(t,e){var a=e.taskId;return Object(c.a)({},t,{entities:tt(t.entities,a),ids:et(t.ids,a)})},ut=Object($.b)({ui:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedStory:0,isDirty:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case n.SELECT_STORY:return q(t,e.payload);case n.SET_STATE_CLEAN:return Q(t);default:return isNaN(e.type)?t:z(t)}},stories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entities:{},ids:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case n.ADD_USER_STORY:return at(t,e.payload);case n.UPDATE_USER_STORY:return nt(t,e.payload);case n.REMOVE_USER_STORY:return rt(t,e.payload);case n.ADD_TASK:return it(t,e.payload);default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entities:{},ids:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case n.ADD_TASK:return st(t,e.payload);case n.UPDATE_TASK:return ct(t,e.payload);case n.REMOVE_TASK:return lt(t,e.payload);default:return t}}}),dt=Object($.c)(ut);!function(t){t[t.JSON=0]="JSON",t[t.DTD=1]="DTD"}(ot||(ot={}));var pt,mt=new(function(){function t(e){Object(l.a)(this,t),this.store=void 0,this.store=e}return Object(u.a)(t,[{key:"exportStory",value:function(t,e){var a=this.store.getState();switch(e){case ot.JSON:return this.exportStoryToJSON(t,a);case ot.DTD:return this.exportStoryToDTD(t,a);default:throw new Error("Invalid export file type")}}},{key:"exportStoryToJSON",value:function(t,e){return JSON.stringify({story:Object(c.a)({},t,{tasks:t.tasks.map(function(t){return e.tasks.entities[t]})})},null,3)}},{key:"exportStoryToDTD",value:function(t,e){var a=t.tasks.map(function(t){return e.tasks.entities[t]}),n=this.storyToDTDFormat(t),r=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;n+="\n"+this.taskToDTDFormat(l,t.name)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}},{key:"storyToDTDFormat",value:function(t){return["[STORY][".concat(t.name,"] ").concat(t.title),"[PRIORITY]: ".concat(t.priority),"[EFFORT]: ".concat(t.effort),"[DESCRIPTION]:\n".concat(this.descriptionToTopics(t.description))].join("\n")}},{key:"taskToDTDFormat",value:function(t,e){return["[".concat(t.type,"][").concat(e,"][").concat(t.area===O.BOTH?"BE][FE":t.area,"][").concat(t.assignee,"] ").concat(t.title),"[PRIORITY]: ".concat(t.priority),"[EFFORT]: ".concat(t.effort),"[DESCRIPTION]:\n".concat(this.descriptionToTopics(t.description))].join("\n")}},{key:"descriptionToTopics",value:function(t){var e="",a=t.split("\n").map(function(t){return t.trim()}).filter(function(t){return t.length>0}),n=!0,r=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;"-"!==c[0]&&(c="- "+c),[":",";","."].includes(c[c.length-1])||(c+=";"),e+=c+"\n"}}catch(l){r=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}},{key:"importStory",value:function(t,e){var a=this.toObjectTree(t),n=this.store.getState().stories.ids.length;try{return this.importStoryToStore(a.story,n),this.importTasksToStore(a.story.tasks,n),a.story.name}catch(r){throw new Error("Invalid JSON content: "+r.message)}}},{key:"importStoryToStore",value:function(t,e){try{var a=new A(e,t.name);a.title=t.title,a.description=t.description,a.effort=t.effort,a.priority=t.priority,a.description=t.description,a.startDate=this.parseDate(t.startDate),a.handOffDate=this.parseDate(t.handOffDate),this.store.dispatch(y(a))}catch(n){throw new Error("incomplete story data. "+n.message)}}},{key:"parseDate",value:function(t){if(isNaN(Date.parse(t)))throw new Error("could not parse date: '".concat(t,"'"));return new Date(t)}},{key:"importTasksToStore",value:function(t,e){var a=[],n=this.store.getState().tasks.ids.length,r=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;try{var u=new C(n);u.title=l.title,u.description=l.description,u.effort=l.effort,u.priority=l.priority,u.description=l.description,u.startDate=this.parseDate(l.startDate),u.handOffDate=this.parseDate(l.handOffDate),u.type=l.type,u.area=l.area,u.assignee=l.assignee,a.push(u),n++}catch(h){throw new Error("incomplete task data. "+h.message)}}}catch(f){i=!0,o=f}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}for(var d=0,p=a;d<p.length;d++){var m=p[d];this.store.dispatch(v(m,e))}}},{key:"toObjectTree",value:function(t){try{return JSON.parse(t)}catch(e){throw new Error("Invalid JSON file.")}}}]),t}())(dt),ht=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(p.a)(e).call(this,t))).editableNameElement=void 0,a.editableNameElement=i.a.createRef(),a.updateAttribute=a.updateAttribute.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"updateStoryName",value:function(t){var e=t.target.value.trim()||"",a=Object(c.a)({},this.props.selectedStory,{name:e});this.props.dispatch(E(a))}},{key:"handleEnterKeyOnStoryName",value:function(t){var e=this.editableNameElement.current;["Enter","Escape"].includes(t.key)&&e&&e.blur()}},{key:"updateAttribute",value:function(t,e){var a=Object(c.a)({},this.props.selectedStory,Object(R.a)({},t,e));this.props.dispatch(E(a))}},{key:"render",value:function(){var t=this,e=this.props.selectedStory,a=i.a.createElement(S.a,null,i.a.createElement(S.a.Item,{text:"To JSON file",onClick:function(){return t.props.exportStory(ot.JSON)}}),i.a.createElement(S.a.Item,{text:"To TXT file",onClick:function(){return t.props.exportStory(ot.DTD)}}));return i.a.createElement("div",{className:"story-details"},e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"story-details__header"},i.a.createElement("div",{className:"story-details__name"},i.a.createElement(K.a,{intent:"primary",minimal:!0},"STORY"),i.a.createElement(W.a,{innerRef:this.editableNameElement,onChange:function(e){return t.updateStoryName(e)},onKeyDown:function(e){return t.handleEnterKeyOnStoryName(e)},html:e.name||""})),i.a.createElement("div",{className:"story-details__controls"},i.a.createElement(D.a,{content:a,position:_.a.BOTTOM_RIGHT,minimal:!0},i.a.createElement(k.b,{intent:"none",text:"Export",icon:"export",rightIcon:"caret-down"})))),i.a.createElement("div",{className:"story-details__body"},i.a.createElement(X,{story:e,update:this.updateAttribute})),i.a.createElement("div",{className:"story-details__stories"},i.a.createElement(L,{story:e}))):null)}}]),e}(i.a.Component),ft=Object(g.b)(function(t,e){var a=t.ui.selectedStory,n=t.stories.entities[t.stories.ids[a]];return Object(c.a)({selectedStory:n,tasks:t.tasks.entities,tasksIds:t.tasks.ids},e)})(ht),yt=(pt={},Object(R.a)(pt,ot.JSON,"json"),Object(R.a)(pt,ot.DTD,"txt"),pt);function Et(t,e,a){!function(t,e){var a=document.createElement("a"),n=window.URL.createObjectURL(t);a.href=n,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(n)}(new Blob([a],{type:"octet/stream"}),"(".concat(t,").").concat(yt[e]))}var vt=function t(e,a){Object(l.a)(this,t),this.message=void 0,this.icon=void 0,this.intent=void 0,this.timeout=void 0,this.message=e||"",this.icon=a,this.intent="none",this.timeout=3e3},Tt=a(116).a.create({className:"notify-dock",position:_.a.TOP}),Ot=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(d.a)(this,Object(p.a)(e).call(this,t))).exportStory=a.exportStory.bind(Object(m.a)(a)),a.importStory=a.importStory.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.isStateDirty;window.onbeforeunload=function(t){return""}}},{key:"notify",value:function(t){Tt.show(t)}},{key:"exportStory",value:function(t){var e=this.props.selectedStory,a=this.props.stories.entities[this.props.stories.ids[e]],r=mt.exportStory(a,t);this.notify(new vt("Your download will begin shortly.","download")),setTimeout(function(){return Et(a.name,t,r)},1500),this.props.dispatch({type:n.SET_STATE_CLEAN,payload:{}})}},{key:"importStory",value:function(t){var e=this,a=t.target.files[0];if(a){var n=new FileReader;n.onload=function(t){var a;try{var n=mt.importStory(t.target.result,ot.JSON);a=new vt('"'.concat(n,'" was imported successfully.'),"tick")}catch(t){a=new vt("".concat(t.message),"error")}e.notify(a)},n.readAsText(a)}}},{key:"render",value:function(){var t=this.props.stories;return i.a.createElement("div",{className:"app"},i.a.createElement("header",null,i.a.createElement("div",{className:"app-title"}," >=pardal",i.a.createElement("span",null,"v0.0.1"))),i.a.createElement("div",{className:"dashboard"},i.a.createElement("aside",null,i.a.createElement(w,{importStory:this.importStory})),t&&t.ids&&t.ids.length>0?i.a.createElement("main",null,i.a.createElement(ft,{exportStory:this.exportStory})):null))}}]),e}(i.a.Component),St=Object(g.b)(function(t,e){return Object(c.a)({selectedStory:t.ui.selectedStory,stories:t.stories,isStateDirty:t.ui.isDirty},e)})(Ot);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(101),a(102),a(103),a(104);s.a.render(i.a.createElement(g.a,{store:dt},i.a.createElement(St,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},73:function(t,e,a){t.exports=a(105)}},[[73,1,2]]]);
//# sourceMappingURL=main.23c272ef.chunk.js.map